var monthData = [  {    "month":"January",    "year":2016,    "offset":5,    "daysInMonth":31  },  {    "month":"February",    "year":2016,    "offset":1,    "daysInMonth":29  },  {    "month":"March",    "year":2016,    "offset":2,    "daysInMonth":31  },  {    "month":"April",    "year":2016,    "offset":5,    "daysInMonth":30  },  {    "month":"May",    "year":2016,    "offset":0,    "daysInMonth":31  },  {    "month":"June",    "year":2016,    "offset":3,    "daysInMonth":30  },  {    "month":"July",    "year":2016,    "offset":5,    "daysInMonth":31  },  {    "month":"August",    "year":2015,    "offset":6,    "daysInMonth":31  },  {    "month":"September",    "year":2015,    "offset":2,    "daysInMonth":30  },  {    "month":"October",    "year":2015,    "offset":4,    "daysInMonth":31  },  {    "month":"November",    "year":2015,    "offset":0,    "daysInMonth":30  },  {    "month":"December",    "year":2015,    "offset":2,    "daysInMonth":31  }]var monthlyPrices = [  {    "price":156  },  {    "price":126  },  {    "price":134  },  {    "price":134  },  {    "price":139  },  {    "price":217  },  {    "price":242  },  {    "price":223  },  {    "price":246  },  {    "price":246  },]var dailyPrices = [  {    "departDate":"9/1/15",    "returnDate":"9/2/15",    "price":156  },  {    "departDate":"9/2/15",    "returnDate":"9/3/15",    "price":196  },  {    "departDate":"9/3/15",    "returnDate":"9/4/15",    "price":221  },  {    "departDate":"9/4/15",    "returnDate":"9/5/15",    "price":156  },  {    "departDate":"9/5/15",    "returnDate":"9/6/15",    "price":206  },  {    "departDate":"9/6/15",    "returnDate":"9/7/15",    "price":206  },  {    "departDate":"9/7/15",    "returnDate":"9/8/15",    "price":241  },  {    "departDate":"9/8/15",    "returnDate":"9/9/15",    "price":156  },  {    "departDate":"9/9/15",    "returnDate":"9/10/15",    "price":170  },  {    "departDate":"9/10/15",    "returnDate":"9/11/15",    "price":156  },  {    "departDate":"9/11/15",    "returnDate":"9/12/15",    "price":156  },  {    "departDate":"9/12/15",    "returnDate":"9/13/15",    "price":196  },  {    "departDate":"9/13/15",    "returnDate":"9/14/15",    "price":266  },  {    "departDate":"9/14/15",    "returnDate":"9/15/15",    "price":156  },  {    "departDate":"9/15/15",    "returnDate":"9/16/15",    "price":196  },  {    "departDate":"9/16/15",    "returnDate":"9/17/15",    "price":156  },  {    "departDate":"9/17/15",    "returnDate":"9/18/15",    "price":156  },  {    "departDate":"9/18/15",    "returnDate":"9/19/15",    "price":206  },  {    "departDate":"9/19/15",    "returnDate":"9/20/15",    "price":156  },  {    "departDate":"9/20/15",    "returnDate":"9/21/15",    "price":251  },  {    "departDate":"9/21/15",    "returnDate":"9/22/15",    "price":156  },  {    "departDate":"9/22/15",    "returnDate":"9/23/15",    "price":196  },  {    "departDate":"9/23/15",    "returnDate":"9/24/15",    "price":196  },  {    "departDate":"9/24/15",    "returnDate":"9/25/15",    "price":206  },  {    "departDate":"9/25/15",    "returnDate":"9/26/15",    "price":206  },  {    "departDate":"9/26/15",    "returnDate":"9/27/15",    "price":196  },  {    "departDate":"9/27/15",    "returnDate":"9/28/15",    "price":156  },  {    "departDate":"9/28/15",    "returnDate":"9/29/15",    "price":156  },  {    "departDate":"9/29/15",    "returnDate":"9/30/15",    "price":156  },  {    "departDate":"9/30/15",    "returnDate":"10/1/15",    "price":143  }];var monthIndex = 8;incrementMonth = function() {  monthIndex += 1;  monthIndex %= 12;  drawCalendar();}decreaseMonth = function() {  monthIndex -= 1;  if (monthIndex < 0) {    monthIndex = 11;  }  drawCalendar();}setMonth = function(index) {  monthIndex = index;  drawCalendar();}function getDailyPrice() {    var xhr = new XMLHttpRequest();    xhr.open('GET', '/dailyPrice/2015-09-10/2015-09-11');    xhr.send();}drawCalendar = function() {  var i;  var md = monthData[monthIndex];  var offset = md.offset;  var numDaysInMonth = md.daysInMonth;  var numDaysInWeek = 7;  jQuery("#monthName").empty().append(md.month + ' ' + md.year);  jQuery("#fareCalendar tbody").empty().append('<tr class="cal">');  for (i = 0; i < offset; ++i) {    jQuery("#fareCalendar tbody").append('<td class="noDay"></td>');  }  var rowIndex = offset;  for (i = 1; i <= numDaysInMonth; i++, rowIndex++) {    if (rowIndex == numDaysInWeek) {      jQuery("#fareCalendar tbody").append('</tr><tr class="cal">');      rowIndex = 0;    }    //TODO: replace static prices with call to "minPrice/2015-09-10/2015-09-11" on local host and Math.round(data.price)    var price = dailyPrices[i-1].price;    jQuery("#fareCalendar tbody").append('<td class="cal">'      + i + '<br><a href="http://www.orbitz.com/shop/home?type=air&ar.type=roundTrip&strm=true&ar.rt.leaveSlice.orig.key=CHI&_ar.rt.leaveSlice.originRadius=0&ar.rt.leaveSlice.dest.key=Portland%2C+Oregon+-+Portland+International+Airport+%28PDX%29&_ar.rt.leaveSlice.destinationRadius=0&ar.rt.leaveSlice.date='      + dailyPrices[i-1].departDate      + '&ar.rt.leaveSlice.time=Anytime&ar.rt.returnSlice.date='      + dailyPrices[i-1].returnDate      + '&ar.rt.returnSlice.time=Anytime&_ar.rt.flexAirSearch=0&_ar.rt.nonStop=0&ar.rt.numAdult=1&ar.rt.numSenior=0&ar.rt.numChild=0&ar.rt.child%5B0%5D=&ar.rt.child%5B1%5D=&ar.rt.child%5B2%5D=&ar.rt.child%5B3%5D=&ar.rt.child%5B4%5D=&ar.rt.child%5B5%5D=&ar.rt.child%5B6%5D=&ar.rt.child%5B7%5D=&search=Search+Flights&_ar.rt.narrowSel=0&ar.rt.narrow=airlines&ar.rt.carriers%5B0%5D=&ar.rt.carriers%5B1%5D=&ar.rt.carriers%5B2%5D=&ar.rt.cabin=C">$'      + price + '</a></td>');  }  jQuery("#fareCalendar tbody").append('</tr>');}drawMonthSummary = function() {  var numMonths = 10;  var monthCnt = 0;  var startMonthIndex = 7;  var i = startMonthIndex;  jQuery("#cheapestPricesPerMonth").empty();  for (;monthCnt < numMonths; monthCnt++) {    md = monthData[i];    jQuery("#cheapestPricesPerMonth")    .append('<tr><td>'      + md.month + ' ' + md.year      + '</td><td class="fareLink text-right"><a href="javascript:;" onclick="setMonth('      + i + ');return false;">$'      + monthlyPrices[monthCnt].price + '</a></td></tr>');    i++;    i %= 12;  }}jQuery(document).ready(function() {  drawMonthSummary();  drawCalendar();  $("#incrementMonth").click(incrementMonth);  $("#decreaseMonth").click(decreaseMonth);    $(".dropdown-menu li a").click(function() {        var adults = parseInt(document.getElementById('adults').value);        var senior = parseInt(document.getElementById('seniors').value);        var children = parseInt(document.getElementById('children').value);        totalTravelers = adults + senior + children;        if(totalTravelers > 1)            $(this).parents(".dropdown").find('.btn').html(totalTravelers + ' ' + 'travelers' + ' <span class="caret"></span>');        else            $(this).parents(".dropdown").find('.btn').html(totalTravelers + ' ' + 'traveler' + ' <span class="caret"></span>');    });});